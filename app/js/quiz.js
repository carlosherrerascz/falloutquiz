function buildOptions(){$("#info").html(theQuestion.question);for(var e=0;4>e;e++){var t="option"+e.toString();$("label[for='"+t+"']").html($("#"+t)).append(theQuestion.choices[e])}if(void 0!==userAnswers[currentQuestion]){var n="option"+userAnswers[currentQuestion].toString(),o=document.getElementById(n);o.checked=!0}$("[name='options']").hide().fadeIn("slow"),$(".optionText").hide().fadeIn("slow"),$("#info").hide().fadeIn("slow")}function evalOption(){for(var e=0;4>e;e++){var t="option"+e.toString(),n=document.getElementById(t);if(n.checked)return n.checked=!1,userAnswers[currentQuestion]=e,e}return null}function computeResults(){for(var e=0;3>=e;e++)userAnswers[e]===allQuestions[e].correctAnswer&&theScore++}function signUp(){var e=$("#txtUserName").val(),t=$("#txtPassword").val();if(""===e||""===t)return!1;localStorage.setItem("userName",e),localStorage.setItem("password",t);var n=localStorage.getItem("userName");return cookieVal.set("userName",n),!0}function signIn(){var e=$("#txtUserName").val(),t=$("#txtPassword").val(),n=localStorage.getItem("userName"),o=localStorage.getItem("password");return e!==n||t!==o?!1:!0}function dismissUserAuth(){$("#userAuth").animate({top:"150%"},600).promise().done(function(){$("#userAuth").hide()}),$("#questions").stop().animate({right:"1.9%"},600),$("#btnNext").show().fadeIn("slow"),$("#btnBack").show().fadeIn("slow")}function resetFromFinished(){for(var e=0;lastQuestion>=e;e++)userAnswers[e]=void 0;$("#btnReset").fadeOut("fast"),$("#btnNext").fadeIn("fast"),$("#btnBack").fadeIn("fast"),$("#questions").stop().animate({left:"1.9%"},600)}var currentQuestion=0,theForm=document.questions,theScore=0,userAnswers=new Array(4),allQuestions=[{question:"Which vault do you start in?",choices:["Vault 87","Vault 112","Vault 101","Vault 106"],correctAnswer:2},{question:"What is the name of the leader of the Tunnel Snakes?",choices:["Wally Mack","Butch DeLoria","Paul Hannon","Freddie Gomez"],correctAnswer:1},{question:"What is the sheriff of Megaton called?",choices:["Lucas Simms","Leo Stahl","Colin Moriarty","Harden Simms"],correctAnswer:0},{question:"What is the name of the officer that helps you escape the Vault?",choices:["Officer Hannon","Officer Mack","Officer Jonas","Officer Gomez"],correctAnswer:3}],theQuestion=allQuestions[currentQuestion],lastQuestion=allQuestions.length-1;$(document).ready(function(){$("#info").html();$("#userAuth").animate({top:"50%"},600),$("#btnNext").click(function(){if(lastQuestion>currentQuestion){var e=evalOption();null!==e&&(currentQuestion++,theQuestion=allQuestions[currentQuestion],buildOptions())}else if(currentQuestion===lastQuestion){var e=evalOption();null!==e&&(computeResults(),$("#questions").animate({left:"-100%"},600).promise().done(function(){$("#btnBack").fadeOut("fast"),$("#btnNext").fadeOut("fast"),$("#btnReset").fadeIn("slow")})),$("#info").html("You got "+theScore.toString()+" points!")}else alert("Please select an option!")}),$("#btnBack").click(function(){currentQuestion>0&&(evalOption(),currentQuestion--,theQuestion=allQuestions[currentQuestion],buildOptions())}),$("#btnReset").click(function(){currentQuestion=0,theQuestion=allQuestions[currentQuestion],resetFromFinished(),buildOptions()}),$("#btnSignup").click(function(){var e=signUp();e?($("#userMessage").html("Yo, "+cookieVal.get("userName")+"!"),$("#userLoggedIn").fadeIn("slow"),dismissUserAuth(),buildOptions()):alert("Please fill in the information!")}),$("#btnSignin").click(function(){var e=signIn();e?($("#userMessage").html("Glad to see ya again, "+cookieVal.get("userName")+"!"),$("#userLoggedIn").fadeIn("slow"),dismissUserAuth(),buildOptions()):alert("Incorrect username or password. Please verify information and try again.")})});var cookieVal={get:function(e){var t=document.cookie,n=t.indexOf(" "+e+"=");if(-1==n&&(n=t.indexOf(e+"=")),-1==n)t=null;else{n=t.indexOf("=",n)+1;var o=t.indexOf(";",n);-1==o&&(o=t.length),t=decodeURIComponent(t.substring(n,o))}return t},set:function(e,t,n,o){if(t=encodeURIComponent(t),!o){var s=new Date;s.setMonth(s.getMonth()+6),o=s.toUTCString()}n&&(n=";Path="+n),document.cookie=e+"="+t+";expires = "+o+n}};